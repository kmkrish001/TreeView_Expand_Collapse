!function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="_content/Syncfusion.Blazor/scripts/",i(i.s="./bundles/sf-gantt.js")}({"./bundles/sf-gantt.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-gantt.js")},"./modules/sf-gantt.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Gantt=function(){"use strict";var e=function(){function e(e,t,i){this.toolbarHeight=0,this.chartPreviousScroll={top:0,left:0},this.treegridPreviousScroll={top:0,left:0},this.spinnerShown=!1,this.scrollbarUpdate=!1,this.element=e,this.element.blazor_instance=this,this.dotNetRef=i,this.isFromTreeGrid=!1,this.options=t}return e.prototype.getOffsetRect=function(e){var t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.clientTop||document.body.clientTop||0,n=document.documentElement.clientLeft||document.body.clientLeft||0,r=t.top+i-o,a=t.left+s-n;return{top:Math.round(r),left:Math.round(a),width:t.width,height:t.height}},e.prototype.getParentElement=function(e,t,i){for(var s=e;s&&!(i?s.id===t:s.classList.contains(t));)s=s.parentElement;return s},e}(),t="e-active-container",i=function(){function e(e,t,i,s){this.parent=e,this.chartElement=t.querySelector(".e-gantt-chart-pane"),this.element=t.querySelector(".e-chart-scroll-container"),this.timelineHeaderElement=t.querySelector(".e-timeline-header-container"),this.holidaySpanElement=t.querySelectorAll(".e-span"),this.addEventListeners(),this.ChartHeight(t),sf.base.isNullOrUndefined(this.holidaySpanElement)||this.UpdateHolidayLabel(s)}return e.prototype.addEventListeners=function(){sf.base.EventHandler.add(this.element,"scroll",this.onScroll,this),sf.base.EventHandler.add(this.chartElement,"mousedown",this.mouseDownHandler,this)},e.prototype.removeEventListeners=function(){sf.base.EventHandler.remove(this.element,"scroll",this.onScroll),sf.base.EventHandler.remove(this.chartElement,"mousedown",this.mouseDownHandler)},e.prototype.gridScrollHandler=function(e){this.element.scrollTop=e,this.parent.isFromTreeGrid=!0},e.prototype.showHideSpinner=function(e){var t=this.parent;e&&!this.parent.spinnerShown?(this.parent.dotNetRef.invokeMethodAsync("ShowSpinner"),this.parent.spinnerShown=!0):!e&&this.parent.spinnerShown&&(t.dotNetRef.invokeMethodAsync("HideSpinner"),t.spinnerShown=!1)},e.prototype.onScroll=function(){var e=this.parent,t=this;e.scrollbarUpdate=!0,this.element.scrollTop!==e.chartPreviousScroll.top&&e.element.blazor_instance.options.enableVirtualization&&(this.showHideSpinner(!0),window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout((function(){t.showHideSpinner(!1)}),200)),this.element.scrollLeft!==this.parent.chartPreviousScroll.left&&(this.timelineHeaderElement.scrollLeft=this.element.scrollLeft,this.parent.chartPreviousScroll.left=this.element.scrollLeft),this.element.scrollTop!==this.parent.chartPreviousScroll.top&&(this.parent.isFromTreeGrid||this.parent.treeGridModule.updateScrollTop(this.element.scrollTop),this.parent.chartPreviousScroll.top=this.element.scrollTop,this.parent.isFromTreeGrid=!1)},e.prototype.mouseDownHandler=function(e){if(null!=this.parent.getParentElement(e.target,"e-gantt-chart")){var t=null,i=null;this.parent.getParentElement(e.target,"e-timeline-header-container")?t="Header":this.parent.getParentElement(e.target,"e-content")&&(t="Content",i=this.parent.getParentElement(e.target,"e-chart-row-cell")?this.parent.getParentElement(e.target,"e-chart-row-cell").getAttribute("data-uid"):null),"Header"!=t&&"Content"!=t||this.parent.dotNetRef.invokeMethodAsync("ChartMouseDownHandler",t,i)}},e.prototype.ChartHeight=function(e){this.toolbarElement=e.querySelector("#"+e.id+"_Gantt_Toolbar"),this.viewPortHeight=e.blazor_instance.height-e.blazor_instance.toolbarHeight-this.timelineHeaderElement.offsetHeight,this.element.style.height="calc(100% - "+this.timelineHeaderElement.offsetHeight+"px)"},e.prototype.UpdateHolidayLabel=function(e){for(var t=this.holidaySpanElement.length,i=0;i<t;i++)this.holidaySpanElement[i].style.top=sf.base.formatUnit(this.viewPortHeight<e?this.viewPortHeight/2:e/2)},e.prototype.destroy=function(){this.removeEventListeners()},e}(),s=function(){function e(e,t){this.parent=e,this.content=t,this.addEventListeners()}return e.prototype.addEventListeners=function(){sf.base.EventHandler.add(this.content,"scroll",this.scrollHandler,this)},e.prototype.removeEventListeners=function(){sf.base.EventHandler.remove(this.content,"scroll",this.scrollHandler)},e.prototype.scrollHandler=function(e){this.content.scrollTop!==this.parent.treegridPreviousScroll.top&&this.parent.chartScrollModule.gridScrollHandler(this.content.scrollTop),this.parent.treegridPreviousScroll.top=this.content.scrollTop},e.prototype.updateScrollTop=function(e){this.content.scrollTop=e,this.parent.treegridPreviousScroll.top=this.content.scrollTop},e.prototype.destroy=function(){this.removeEventListeners()},e}(),o=function(){return(o=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(){function e(e){this.elementOffsetLeft=0,this.elementOffsetTop=0,this.elementOffsetWidth=0,this.elementOffsetHeight=0,this.parent=e,this.initPublicProp(),this.ganttChartTableBody=this.parent.element.querySelector("#"+this.parent.element.id+"_chartContentBody"),this.chartPane=this.parent.element.querySelector(".e-gantt-chart-pane"),this.chartBodyContainer=this.parent.element.querySelector(".e-chart-root-container"),this.addEventListeners()}return e.prototype.initPublicProp=function(){this.taskBarEditElement=null,this.taskBarEditRecord=null,this.taskBarEditAction=null,this.dragMouseLeave=!1,this.isMouseDragged=!1,this.connectorPointWidth=null,this.connectorSecondAction=null,this.toPredecessorText=null,this.highlightedSecondElement=null,this.falseLine=null},e.prototype.addEventListeners=function(){sf.base.EventHandler.add(this.chartPane,sf.base.Browser.touchStartEvent,this.ganttMouseDown,this),sf.base.EventHandler.add(this.chartPane,sf.base.Browser.touchMoveEvent,this.ganttMouseMove,this),sf.base.EventHandler.add(this.chartPane,sf.base.Browser.touchCancelEvent,this.ganttMouseLeave,this),sf.base.EventHandler.add(document,sf.base.Browser.touchEndEvent,this.ganttChartMouseUp,this)},e.prototype.removeEventListeners=function(){sf.base.EventHandler.remove(this.chartPane,sf.base.Browser.touchStartEvent,this.ganttMouseDown),sf.base.EventHandler.remove(this.chartPane,sf.base.Browser.touchMoveEvent,this.ganttMouseMove),sf.base.EventHandler.remove(this.chartPane,sf.base.Browser.touchCancelEvent,this.ganttMouseLeave),sf.base.EventHandler.remove(document,sf.base.Browser.touchEndEvent,this.ganttChartMouseUp)},e.prototype.ganttMouseDown=function(e){this.updateTaskBarEditElement(e)},e.prototype.ganttMouseLeave=function(e){this.dragMouseLeave=!0},e.prototype.ganttChartMouseUp=function(e){var t=this;this.taskBarEditAction&&this.isMouseDragged?(this.dragMouseLeave?(this.parent.dotNetRef.invokeMethodAsync("UpdateResizedData",null,null,null),this.taskBarEditRecord=this.previousItem,this.updateItemPosition()):this.parent.dotNetRef.invokeMethodAsync("UpdateResizedData",this.dataGuid,this.taskBarEditAction,this.taskBarEditRecord).then((function(e){null!=t.taskBarEditRecord&&null!=e&&(t.taskBarEditRecord.left=e.left,t.taskBarEditRecord.width=e.width),t.updateItemPosition()})),this.isMouseDragged=!1):this.taskBarEditElement&&(this.parent.dotNetRef.invokeMethodAsync("UpdateResizedData",null,null,null),this.falseLine&&this.removeFalseLine(!0),this.initPublicProp())},e.prototype.updateItemPosition=function(){this.setItemPosition(),this.falseLine&&this.removeFalseLine(!0),this.initPublicProp()},e.prototype.updateTaskBarEditElement=function(e){var t=this,i=this.getElementByPosition(e),s=this.parent.getParentElement(i,"e-taskbar-main-container");this.taskBarEditElement=s,this.taskBarEditElement&&("mousedown"!==e.type&&"touchstart"!==e.type&&"click"!==e.type||(this.dataGuid=this.taskBarEditElement.getAttribute("rowuniqueid"),this.parent.dotNetRef.invokeMethodAsync("GetConnectorValues").then((function(e){t.connectorPointWidth=e})),this.taskBarEditAction=this.getTaskBarAction(e),this.parent.dotNetRef.invokeMethodAsync("GetEditedRecord",this.dataGuid,this.taskBarEditAction).then((function(i){t.taskBarEditRecord=i,t.updateMouseDownProperties(e)}))))},e.prototype.updateMouseDownProperties=function(e){var t=this.getCoordinate(e);if(t.pageX||t.pageY){var i=this.parent.getOffsetRect(this.chartBodyContainer);this.mouseDownX=t.pageX-i.left+this.parent.chartPreviousScroll.left,this.mouseDownY=t.pageY-i.top+this.parent.chartPreviousScroll.top}},e.prototype.getTaskBarAction=function(e){var t=this.getElementByPosition(e),i=(this.taskBarEditRecord,"");return t.classList.contains("e-taskbar-left-resizer")?i="LeftResizing":t.classList.contains("e-taskbar-right-resizer")?i="RightResizing":t.classList.contains("e-child-progress-resizer")||sf.base.closest(t,".e-child-progress-resizer")?i="ProgressResizing":t.classList.contains("e-connectorpoint-left-hover")?i="ConnectorPointLeftDrag":t.classList.contains("e-connectorpoint-right-hover")?i="ConnectorPointRightDrag":"Auto"===this.parent.options.taskMode&&(sf.base.closest(t,".e-gantt-parent-taskbar")||sf.base.closest(t,".e-gantt-parent-milestone"))?i="ParentDrag":sf.base.closest(t,".e-gantt-child-taskbar")?i="ChildDrag":sf.base.closest(t,".e-gantt-milestone")&&(i="MilestoneDrag"),i},e.prototype.getElementByPosition=function(e){var t=this.getCoordinate(e);return t.pageX=null!=t.pageX?t.pageX:0,t.pageY=null!=t.pageY?t.pageY:0,document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset)},e.prototype.getCoordinate=function(e){var t={};if(e){var i=e;t.pageX=i.pageX,t.pageY=i.pageY}return t},e.prototype.ganttMouseMove=function(e){var t=this.parent.getOffsetRect(this.chartBodyContainer),i=this.getCoordinate(e);this.mouseMoveX=i.pageX-t.left+this.parent.chartPreviousScroll.left,this.mouseMoveY=i.pageY-t.top+this.parent.chartPreviousScroll.top,this.dragMouseLeave=!1,this.isMouseDragCheck(),this.isMouseDragged&&this.taskBarEditAction&&this.taskBarEditingAction(e,!1);var s=sf.base.closest(e.target,".e-taskbar-main-container");s&&(this.parent.options.allowTaskbarEditing&&"ConnectorPointLeftDrag"!==this.taskBarEditAction&&"ConnectorPointRightDrag"!==this.taskBarEditAction?s.style.cursor="move":s.style.cursor="auto"),sf.base.isNullOrUndefined(this.chartBodyContainer.querySelector(".e-connector-line-container"))||(null!==s?sf.base.addClass(this.chartBodyContainer.querySelectorAll(".e-connector-line-container"),"e-connector-line-z-index"):sf.base.isNullOrUndefined(this.chartBodyContainer.querySelectorAll(".e-connector-line-z-index"))||sf.base.removeClass(this.chartBodyContainer.querySelectorAll(".e-connector-line-container"),"e-connector-line-z-index"))},e.prototype.isMouseDragCheck=function(){if(!this.isMouseDragged&&this.taskBarEditAction&&(this.mouseDownX!==this.mouseMoveX&&(this.mouseDownX+3<this.mouseMoveX||this.mouseDownX-3>this.mouseMoveX)||this.mouseDownY!==this.mouseMoveY&&(this.mouseDownY+3<this.mouseMoveY||this.mouseDownY-3>this.mouseMoveY))){this.isMouseDragged=!0;var e=this.taskBarEditRecord;this.previousItem=o({},e),this.taskBarEditElement.setAttribute("aria-grabbed","true")}},e.prototype.updateMouseMoveProperties=function(e){var t=this.parent.getOffsetRect(this.chartBodyContainer),i=this.getCoordinate(e);if((i.pageX||i.pageY)&&(this.mouseMoveX=i.pageX-t.left+this.parent.chartPreviousScroll.left,this.mouseMoveY=i.pageY-t.top+this.parent.chartPreviousScroll.top),this.taskBarEditRecord.width>3&&("ProgressResizing"!==this.taskBarEditAction||0!==this.taskBarEditRecord.progress&&100!==this.taskBarEditRecord.progress)){var s=this.mouseMoveX-this.parent.chartPreviousScroll.left+t.left;this.mouseMoveY,this.parent.chartPreviousScroll.top,t.top;(s+20>t.left+this.chartBodyContainer.offsetWidth||s-20<t.left)&&(this.timerCount=this.parent.chartPreviousScroll.left)}},e.prototype.taskBarEditingAction=function(e,t){this.updateMouseMoveProperties(e),"ProgressResizing"===this.taskBarEditAction?this.performProgressResize(e):"LeftResizing"===this.taskBarEditAction?this.enableLeftResizing(e):"RightResizing"===this.taskBarEditAction||"ParentResizing"===this.taskBarEditAction?this.enableRightResizing(e):"ParentDrag"===this.taskBarEditAction||"ChildDrag"===this.taskBarEditAction||"MilestoneDrag"===this.taskBarEditAction?this.enableDragging(e):"ConnectorPointLeftDrag"!==this.taskBarEditAction&&"ConnectorPointRightDrag"!==this.taskBarEditAction||(this.updateConnectorLineSecondProperties(e),this.triggerDependencyEvent(e),this.drawFalseLine()),this.setItemPosition()},e.prototype.setItemPosition=function(){var e=this.taskBarEditRecord;if(null!=e&&null!=this.taskBarEditElement){var t="MilestoneDrag"===this.taskBarEditAction||e.isMilestone?this.milestoneHeight:e.width,i=t-10,s=t-2,o=e.progress/100*e.width,n=this.taskBarEditElement.classList.contains("e-taskbar-main-container")?this.taskBarEditElement:sf.base.closest(this.taskBarEditElement,"tr.e-chart-row").querySelector(".e-taskbar-main-container"),r=sf.base.closest(this.taskBarEditElement,"tr.e-chart-row").querySelector(".e-left-label-container"),a=sf.base.closest(this.taskBarEditElement,"tr.e-chart-row").querySelector(".e-right-label-container"),l=this.taskBarEditElement.querySelector(".e-gantt-child-progressbar"),c=this.taskBarEditElement.querySelector(".e-gantt-child-taskbar"),h=this.taskBarEditElement.querySelector(".e-child-progress-resizer"),d=this.taskBarEditElement.querySelector(".e-taskbar-right-resizer"),u=this.taskBarEditElement.querySelector(".e-gantt-parent-taskbar"),f=this.taskBarEditElement.querySelector(".e-gantt-parent-progressbar"),p=this.taskBarEditElement.querySelector(".e-right-connectorpoint-outer-div");"ParentResizing"!==this.taskBarEditAction&&(n.style.width=t+"px",n.style.left=e.left+"px",r.style.width=e.left+"px",sf.base.isNullOrUndefined(a)||(a.style.left=e.left+t+"px")),p&&(p.style.left=s+"px"),d&&(d.style.left=i+"px"),"MilestoneDrag"===this.taskBarEditAction||e.isMilestone?(n.style.left=e.left-t/2+"px",r.style.width=e.left-t/2+"px",sf.base.isNullOrUndefined(a)||(a.style.left=e.left+t/2+"px")):"ProgressResizing"===this.taskBarEditAction?(c.style.left=e.left+e.progressWidth-10+"px",sf.base.isNullOrUndefined(l)||(l.style.width=e.progressWidth+"px",l.style.borderBottomRightRadius=this.progressBorderRadius+"px",l.style.borderTopRightRadius=this.progressBorderRadius+"px",h.style.left=e.progressWidth-8+"px")):"RightResizing"===this.taskBarEditAction?(c.style.width=t+"px",sf.base.isNullOrUndefined(l)||(l.style.width=o+"px",d.style.left=i+"px",h.style.left=o-5+"px")):"ParentDrag"===this.taskBarEditAction?(sf.base.isNullOrUndefined(u)||(u.style.width=t+"px"),sf.base.isNullOrUndefined(l)||(f.style.width=e.progressWidth+"px")):(sf.base.isNullOrUndefined(c)||(c.style.width=t+"px"),sf.base.isNullOrUndefined(l)||(d.style.left=i+"px",l.style.width=o+"px",h.style.left=o-5+"px"))}},e.prototype.enableLeftResizing=function(e){var t=this.taskBarEditRecord,i=0;this.mouseDownX>this.mouseMoveX?this.mouseMoveX<t.left+t.width?(i=this.mouseDownX-this.mouseMoveX,t.left>0&&(t.left=this.previousItem.left-i,t.width=this.previousItem.width+i)):this.mouseMoveX>t.left+t.width&&(i=this.mouseDownX-this.mouseMoveX,t.left=this.previousItem.left-i,t.width=3):this.mouseMoveX<t.left+t.width?(i=this.mouseMoveX-this.mouseDownX,t.left<t.left+t.width&&this.previousItem.left+i<=this.previousItem.left+this.previousItem.width&&(t.left=this.previousItem.left+i,t.width=this.previousItem.width-i)):(i=this.mouseMoveX-this.mouseDownX,t.left=this.previousItem.left+i,t.width=3),this.updateEditPosition(e,t),t.left=this.previousItem.left+this.previousItem.width-t.width},e.prototype.enableRightResizing=function(e){var t=this.taskBarEditRecord,i=0;this.mouseDownX>this.mouseMoveX?this.mouseMoveX>t.left&&this.mouseDownX-this.mouseMoveX>3?(i=this.mouseDownX-this.mouseMoveX,t.width=this.previousItem.width-i):this.mouseMoveX<t.left&&(t.width=3):this.mouseMoveX>t.left&&(i=this.mouseMoveX-this.mouseDownX,t.width=this.previousItem.width+i),this.updateEditPosition(e,t)},e.prototype.enableDragging=function(e){var t=this.taskBarEditRecord,i=0;this.mouseDownX>this.mouseMoveX?(i=this.mouseDownX-this.mouseMoveX)>0&&(t.left=this.previousItem.left-i):(i=this.mouseMoveX-this.mouseDownX,t.left=this.previousItem.left+i);var s=t.left<0?0:t.left+t.width>=this.parent.totalTimelineWidth?this.parent.totalTimelineWidth-t.width:t.left;t.left=s},e.prototype.performProgressResize=function(e){var t=this.taskBarEditRecord,i=0;this.mouseDownX>this.mouseMoveX?this.mouseMoveX>t.left&&this.mouseMoveX<t.left+t.width&&t.left>0?(i=this.mouseMoveX-t.left,t.progressWidth=i):this.mouseMoveX>=t.left+t.width?t.progressWidth=t.width:t.progressWidth=0:this.mouseMoveX>t.left&&this.mouseMoveX<t.left+t.width?(i=this.mouseMoveX-t.left,t.progressWidth=i):this.mouseMoveX<=t.left?t.progressWidth=0:t.progressWidth=t.width;var s=t.progressWidth>t.width?t.width:t.progressWidth;s=t.progressWidth<0?0:t.progressWidth,t.progressWidth=s;var o=t.width-t.progressWidth;this.progressBorderRadius=o<=4?4-o:0},e.prototype.updateEditPosition=function(e,t){this.updateIsMilestone(t)},e.prototype.updateIsMilestone=function(e){e.width<=3?(e.width=3,e.isMilestone=!0):e.isMilestone=!1},e.prototype.updateConnectorLineSecondProperties=function(e){var t=this.getElementByPosition(e),i=this.parent.getParentElement(t,"e-taskbar-main-container");this.connectorSecondAction=null;this.parent.getParentElement(t,"e-connectorpoint-left")?(this.connectorSecondAction="ConnectorPointLeftDrag",this.toPredecessorText="Start"):this.parent.getParentElement(t,"e-connectorpoint-right")?(this.connectorSecondAction="ConnectorPointRightDrag",this.toPredecessorText="Finish"):(this.connectorSecondAction=null,this.toPredecessorText=null),this.taskBarEditElement!==i&&this.taskBarEditElement!==this.highlightedSecondElement&&(this.elementOffsetLeft=this.taskBarEditElement.offsetLeft,this.elementOffsetTop=this.taskBarEditElement.offsetTop+0,this.elementOffsetWidth=this.taskBarEditElement.offsetWidth,this.elementOffsetHeight=this.taskBarEditElement.offsetHeight,this.showHideTaskBarEditingElements(i,this.highlightedSecondElement)),sf.base.isNullOrUndefined(this.connectorSecondAction)&&!sf.base.isNullOrUndefined(this.connectorSecondElement)&&(this.connectorSecondElement.querySelector(".e-connectorpoint-left").classList.remove("e-connectorpoint-allow-block"),this.connectorSecondElement.querySelector(".e-connectorpoint-right").classList.remove("e-connectorpoint-allow-block")),this.connectorSecondElement=this.connectorSecondAction?i:null,this.toDataGuid=sf.base.isNullOrUndefined(this.connectorSecondElement)?null:this.connectorSecondElement.getAttribute("rowuniqueid")},e.prototype.showHideTaskBarEditingElements=function(e,t){if((t=t||this.taskBarEditElement)&&e!==t&&(t.querySelector(".e-taskbar-left-resizer")&&(t.querySelector(".e-taskbar-left-resizer").classList.remove("e-left-resize-gripper"),t.querySelector(".e-taskbar-right-resizer").classList.remove("e-right-resize-gripper"),t.querySelector(".e-child-progress-resizer")&&t.querySelector(".e-child-progress-resizer").classList.remove("e-progress-resize-gripper")),t.querySelector(".e-connectorpoint-left")||t.parentElement.querySelector(".e-connectorpoint-left"))){var i=sf.base.isNullOrUndefined(t.querySelector(".e-connectorpoint-left"))?t.parentElement:t;i.querySelector(".e-connectorpoint-left").classList.remove("e-connectorpoint-left-hover"),i.querySelector(".e-connectorpoint-right").classList.remove("e-connectorpoint-right-hover")}},e.prototype.triggerDependencyEvent=function(e,t){var i=this;null!=this.toDataGuid&&this.parent.dotNetRef.invokeMethodAsync("DrawConnectorLine",this.taskBarEditAction,this.connectorSecondAction,this.toDataGuid).then((function(t){t||i.getElementByPosition(e).classList.add("e-connectorpoint-allow-block")}))},e.prototype.drawFalseLine=function(){var e,t=this.mouseDownX,i=this.mouseDownY,s=this.mouseMoveX,o=this.mouseMoveY,n=Math.sqrt((t-s)*(t-s)+(i-o)*(i-o)),r="rotate("+180*Math.atan2(o-i,s-t)/Math.PI+"deg)";"ConnectorPointLeftDrag"===this.taskBarEditAction&&(e=this.elementOffsetLeft-this.connectorPointWidth/2-this.parent.chartPreviousScroll.left),"ConnectorPointRightDrag"===this.taskBarEditAction&&(e=this.elementOffsetLeft+this.elementOffsetWidth+this.connectorPointWidth/2-this.parent.chartPreviousScroll.left);var a=this.elementOffsetTop+this.elementOffsetHeight/2+this.chartBodyContainer.offsetTop-this.parent.chartPreviousScroll.top;this.removeFalseLine(!1),this.falseLine=document.createElement("div"),this.falseLine.className="e-gantt-false-line",this.falseLine.id="ganttfalseline"+this.parent.element.id,this.falseLine.style.transformOrigin="0% 100%",this.falseLine.style.right="auto",this.falseLine.style.position="absolute",this.falseLine.style.transform=r,this.falseLine.style.borderTopWidth="1px",this.falseLine.style.borderTopStyle="dashed",this.falseLine.style.zIndex="5",this.falseLine.style.width=n-3+"px",this.falseLine.style.left=e+"px",this.falseLine.style.top=a+"px",this.chartBodyContainer.appendChild(this.falseLine)},e.prototype.removeFalseLine=function(e){this.falseLine&&(sf.base.remove(this.falseLine),this.falseLine=null,e&&(this.elementOffsetLeft=0,this.elementOffsetTop=0,this.elementOffsetWidth=0,this.elementOffsetHeight=0,sf.base.isNullOrUndefined(this.chartBodyContainer.querySelector(".e-connector-line-container"))||sf.base.removeClass(this.chartBodyContainer.querySelectorAll(".e-connector-line-container"),"e-connector-line-z-index")))},e.prototype.destroy=function(){this.removeEventListeners()},e}(),r=function(){function e(e){this.parent=e}return e.prototype.taskbarFocus=function(e){var i=e.querySelector(".e-gantt-child-taskbar"),s=e.querySelector(".e-gantt-parent-taskbar");return i?(i.focus(),e.querySelector(".e-taskbar-main-container").querySelector(".e-gantt-child-taskbar").classList.add(t)):(s.focus(),e.querySelector(".e-taskbar-main-container").querySelector(".e-gantt-parent-taskbar").classList.add(t)),"isNextTaskbar"},e.prototype.RightLabelFocus=function(e){var i=e.querySelector(".e-right-label-container");return i.focus(),i.querySelector(".e-label").classList.add(t),"isNextRightLabel"},e.prototype.LeftLabelFocus=function(e){var i=e.querySelector(".e-left-label-container");return i.focus(),i.querySelector(".e-label").classList.add(t),"isNextLeftLabel"},e}(),a=function(){function e(e){this.parent=e,this.chartPane=this.parent.element.querySelector(".e-gantt-chart-pane"),this.addEventListeners()}return e.prototype.addEventListeners=function(){sf.base.EventHandler.add(this.chartPane,sf.base.Browser.touchMoveEvent,this.ganttMouseMove,this)},e.prototype.removeEventListeners=function(){sf.base.EventHandler.remove(this.chartPane,sf.base.Browser.touchMoveEvent,this.ganttMouseMove)},e.prototype.ganttMouseMove=function(e){this.tooltipMouseEvent=e},e.prototype.tooltipOpened=function(e){var t=document.getElementById(e.element.id);if(!sf.base.isNullOrUndefined(this.tooltipMouseEvent)){var i=this.getPointerPosition(this.tooltipMouseEvent),s=this.parent.getOffsetRect(this.chartPane),o=s.top+this.chartPane.offsetHeight,n=s.left+this.chartPane.offsetWidth,r=i.x,a=i.y;if(n<r+t.offsetWidth+10)for(;n<r+t.offsetWidth+10;)r=n-t.offsetWidth-10,t.style.left=r+"px";else r+=10,t.style.left=r+"px";window.innerHeight<t.offsetHeight+a&&(a=a-t.offsetHeight-10),o<a+t.offsetHeight+20?a=a-t.offsetHeight-10:a+=10,t.style.top=a+"px",t.style.visibility="visible"}},e.prototype.getPointerPosition=function(e){var t,i;return sf.base.isNullOrUndefined(sf.base.getValue("pageX",e))&&sf.base.isNullOrUndefined(sf.base.getValue("pageY",e))?sf.base.isNullOrUndefined(sf.base.getValue("clientX",e))&&sf.base.isNullOrUndefined(sf.base.getValue("clientY",e))||(t=sf.base.getValue("clientX",e)+document.body.scrollLeft+document.documentElement.scrollLeft,i=sf.base.getValue("clientY",e)+document.body.scrollTop+document.documentElement.scrollTop):(t=sf.base.getValue("pageX",e),i=sf.base.getValue("pageY",e)),{x:t,y:i}},e.prototype.destroy=function(){this.removeEventListeners()},e}();return{initialize:function(t,i,s){new e(t,i,s),this.dotnetRef=s;var o={};return t.blazor_instance.height=o.height=t.offsetHeight,t.blazor_instance.width=o.width=t.offsetWidth,t.blazor_instance.toolbarElement=t.querySelector("#"+t.id+"_Gantt_Toolbar"),sf.base.isNullOrUndefined(t.blazor_instance.toolbarElement)||(t.blazor_instance.toolbarHeight=o.toolbarHeight=t.blazor_instance.toolbarElement.offsetHeight),o},updatesplitterHeight:function(e){e.querySelector("#"+e.id+"_Gantt_Splitter").style.height="calc(100% - "+e.blazor_instance.toolbarHeight+"px)"},adjustTable:function(e){if(e.blazor_instance.options.enableVirtualization){var t=document.getElementById("treeGrid"+e.id+"_gridcontrol").querySelector(".e-gridcontent").querySelector(".e-virtualtable"),i=document.getElementById(e.id+"_chart").querySelector(".e-virtualtable");sf.base.isNullOrUndefined(t)||(i.style.transform=t.style.transform)}},setChartHeight:function(e){var t=document.getElementById("treeGrid"+e.id+"_gridcontrol").querySelector(".e-gridcontent").querySelector(".e-virtualtrack");(sf.base.isNullOrUndefined(t)&&(t=document.getElementById("treeGrid"+e.id+"_gridcontrol_content_table")),t&&t.clientHeight)&&(document.getElementById(e.id+"_chart").getElementsByClassName("e-chart-rows-container")[0].style.height=t.clientHeight+1+"px");e.blazor_instance.scrollbarUpdate||e.blazor_instance.chartScrollModule.showHideSpinner(!1),this.adjustTable(e)},treegridHeaderAlign:function(e,t){if(t){sf.base.addClass(e.blazor_instance.treeGridElement.querySelectorAll(".e-headercell"),"e-timeline-single-header-outer-div"),sf.base.addClass(e.blazor_instance.treeGridElement.querySelectorAll(".e-columnheader"),"e-timeline-single-header-outer-div");var i=e.querySelector(".e-gridheader").offsetHeight;e.querySelector(".e-gridcontent").style.height="calc(100% - "+i+"px)"}else sf.base.removeClass(e.blazor_instance.treeGridElement.querySelectorAll(".e-headercell"),"e-timeline-single-header-outer-div"),sf.base.removeClass(e.blazor_instance.treeGridElement.querySelectorAll(".e-columnheader"),"e-timeline-single-header-outer-div")},getTreeGrid:function(e,t){this.hideTreeGridScrollBar(e),sf.base.isNullOrUndefined(e.blazor_instance.treeGridElement)||(e.blazor_instance.treeGrid=e.blazor_instance.treeGridElement.blazor_instance),e.blazor_instance.scrollbarUpdate||e.blazor_instance.chartScrollModule.showHideSpinner(!0),this.treegridHeaderAlign(e,t),this.adjustTable(e)},hideTreeGridScrollBar:function(e){e.blazor_instance.treeGridElement=e.querySelector("#treeGrid"+e.id);var t=e.blazor_instance.treeGridElement.querySelector(".e-content");t&&(t.style.height="100%",e.querySelector(".e-gridcontent").style.height="calc(100% - "+e.querySelector(".e-gridheader").offsetHeight+"px)",e.blazor_instance.treeGridModule=new s(e.blazor_instance,t));var i=this.getScrollbarWidth(e);0!==i&&(t.style.cssText+="width: calc(100% + "+(i+1)+"px);")},getScrollbarWidth:function(e){var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar";var i=document.createElement("div");t.appendChild(i),e.appendChild(t);var s=t.offsetWidth-i.offsetWidth;return t.parentNode.removeChild(t),s},getOffsetLeft:function(e){var t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,s=document.documentElement.clientLeft||document.body.clientLeft||0,o=t.left+i-s;return Math.round(o)},tooltipOpened:function(e,t){e.blazor_instance.tooltipModule.tooltipOpened(t)},ChartInitialize:function(e,t,s,o){e.blazor_instance.totalTimelineWidth=s;var r=e.offsetHeight;return e.blazor_instance.options.allowTaskbarEditing&&(e.blazor_instance.taskbarEditModule=new n(e.blazor_instance),e.blazor_instance.taskbarEditModule.milestoneHeight=o),e.blazor_instance.tooltipModule=new a(e.blazor_instance),e.blazor_instance.chartScrollModule=new i(e.blazor_instance,e,r,t),e.blazor_instance.spinnerShown=!1,{viewPortHeight:e.blazor_instance.chartScrollModule.viewPortHeight,chartWidth:e.querySelector(".e-gantt-chart-pane").offsetWidth}},UpdateScroll:function(e,t){this.scrollBarElement=e.querySelector(".e-chart-scroll-container"),(this.scrollBarElement.offsetWidth<t||this.scrollBarElement.scrollLeft>t)&&(this.scrollBarElement.scrollLeft=t)},chartFocusOutHandler:function(e,i){i.blazor_instance.keyboardModule=new r(i.blazor_instance);var s=i.querySelector(".e-chart-row-cell[data-uid="+e+"]"),o=s.querySelector("."+t)?s.querySelector("."+t).parentElement:null;o&&(o.querySelector(".e-label").classList.remove(t),o.blur())},focusOutHandler:function(e){sf.base.isNullOrUndefined(e.classList)||e.classList.remove(t)},tabFocusHandler:function(e,i,s){i.blazor_instance.keyboardModule=new r(i.blazor_instance);var o=i.querySelector(".e-chart-row-cell[data-uid="+e+"]"),n=o.querySelector("."+t)?o.querySelector("."+t).parentElement:null;if(n)return n.classList.contains("e-left-label-inner-div")?s?(n.querySelector(".e-label").classList.remove(t),n.blur(),"isNextGrid"):i.blazor_instance.keyboardModule.taskbarFocus(o):n.classList.length?n.classList.contains("e-right-label-inner-div")?s?i.blazor_instance.keyboardModule.taskbarFocus(o):"isNextGrid":"":s?o.querySelector(".e-left-label-inner-div")?i.blazor_instance.keyboardModule.LeftLabelFocus(o):"isNextGrid":o.querySelector(".e-right-label-inner-div")?i.blazor_instance.keyboardModule.RightLabelFocus(o):"isNextGrid";return!s&&o.querySelector(".e-left-label-inner-div")?i.blazor_instance.keyboardModule.LeftLabelFocus(o):s&&o.querySelector(".e-right-label-inner-div")?i.blazor_instance.keyboardModule.RightLabelFocus(o):i.blazor_instance.keyboardModule.taskbarFocus(o)},getChartWidth:function(e){return e.querySelector(".e-gantt-chart-pane").clientWidth},updateScrollLeft:function(e,t,i){var s=e.querySelector(".e-chart-scroll-container");if(null!=i){var o=e.querySelector(".e-row").offsetHeight,n=i*o;(s.offsetHeight-o/2+s.scrollTop<n||s.scrollTop>n)&&(s.scrollTop=n)}t=t>0?t:0,t=s.scrollWidth<=t?s.scrollWidth:t,(s.offsetWidth+s.scrollLeft<t||s.scrollLeft>t)&&(s.scrollLeft=t-50)}}}()}});